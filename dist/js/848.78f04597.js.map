{"version":3,"file":"js/848.78f04597.js","mappings":"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","sources":["webpack://lib_client/./src/views/BorrowManage.vue","webpack://lib_client/src/views/BorrowManage.vue","webpack://lib_client/./src/views/BorrowManage.vue?f614","webpack://lib_client/./src/views/BorrowManage.vue?627d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[[_c('div',{staticStyle:{\"margin-top\":\"20px\",\"margin-left\":\"40px\",\"margin-bottom\":\"20px\"}},[_c('label',{staticStyle:{\"font-family\":\"'宋体'\",\"font-weight\":\"bolder\"}},[_vm._v(\"快速查询：\")]),_c('span',[_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin-left\":\"20px\"},attrs:{\"placeholder\":\"请输入借阅编号\",\"clearable\":\"\"},on:{\"input\":_vm.refreshTable},model:{value:(_vm.selid),callback:function ($$v) {_vm.selid=$$v},expression:\"selid\"}}),_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin-left\":\"20px\"},attrs:{\"placeholder\":\"请输入用户名\",\"clearable\":\"\"},on:{\"input\":_vm.refreshTable},model:{value:(_vm.seluid),callback:function ($$v) {_vm.seluid=$$v},expression:\"seluid\"}}),_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin-left\":\"20px\"},attrs:{\"placeholder\":\"请输入书籍编号\",\"clearable\":\"\"},on:{\"input\":_vm.refreshTable},model:{value:(_vm.selbid),callback:function ($$v) {_vm.selbid=$$v},expression:\"selbid\"}})],1),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"新增\")]),_c('el-button',{staticStyle:{\"margin-right\":\"60px\"},attrs:{\"type\":\"danger\"},on:{\"click\":_vm.deleteByIds}},[_vm._v(\"批量删除\")])],1)]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"row-class-name\":_vm.tableRowClassName,\"header-cell-style\":{background:'#f4f4f4',color:'#80878f'}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"记录编号\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"uid\",\"label\":\"用户名\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"bid\",\"label\":\"书籍编号\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"bdate\",\"label\":\"借阅时间\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"rdate\",\"label\":\"归还时间\",\"align\":\"center\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"warning\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.editUser(scope.row)}}},[_vm._v(\"修改\")]),_c('el-popconfirm',{attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"不用了\",\"icon\":\"el-icon-info\",\"icon-color\":\"red\",\"title\":\"确定要删除吗？\"},on:{\"confirm\":function($event){return _vm.deleteOne(scope.row)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"size\":\"small\",\"plain\":\"\"},slot:\"reference\"},[_vm._v(\" 删除\")])],1)]}}])})],1),_c('el-pagination',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"8px\"},attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[5,10,15,20],\"page-size\":_vm.sizePage,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalPage},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"25%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"borrow\",staticStyle:{\"text-align\":\"center\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.borrow,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"借阅人\",\"prop\":\"uid\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"选择用户名\"},model:{value:(_vm.borrow.uid),callback:function ($$v) {_vm.$set(_vm.borrow, \"uid\", $$v)},expression:\"borrow.uid\"}},_vm._l((_vm.userDate),function(i){return _c('el-option',{key:i.uid,attrs:{\"label\":i.uid,\"value\":i.uid}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"书籍编号\",\"prop\":\"bid\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"选择书籍编号\"},model:{value:(_vm.borrow.bid),callback:function ($$v) {_vm.$set(_vm.borrow, \"bid\", $$v)},expression:\"borrow.bid\"}},_vm._l((_vm.bookDate),function(i){return _c('el-option',{key:i.bid,attrs:{\"label\":i.bid,\"value\":i.bid}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"借阅时间\",\"prop\":\"bdate\"}},[_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"clearable\":false,\"placeholder\":\"选择借阅日期时间\",\"default-time\":\"12:00:00\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.borrow.bdate),callback:function ($$v) {_vm.$set(_vm.borrow, \"bdate\", $$v)},expression:\"borrow.bdate\"}})],1)]),_c('el-form-item',{attrs:{\"label\":\"归还时间\",\"prop\":\"rdate\"}},[_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"datetime\",\"clearable\":false,\"placeholder\":\"选择归还日期时间\",\"default-time\":\"12:00:00\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\"},model:{value:(_vm.borrow.rdate),callback:function ($$v) {_vm.$set(_vm.borrow, \"rdate\", $$v)},expression:\"borrow.rdate\"}})],1)]),_c('el-form-item',[_c('el-button',{staticStyle:{\"margin-right\":\"55px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"提交\")])],1)],1)],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <template>\n            <div style=\"margin-top: 20px;margin-left: 40px;margin-bottom: 20px;\">\n                <label style=\"font-family: '宋体';font-weight: bolder;\">快速查询：</label>\n                <span>\n                    <el-input placeholder=\"请输入借阅编号\" v-model=\"selid\" clearable\n                    style=\"width: 200px;margin-left: 20px;\" @input=\"refreshTable\"\n                    >\n                    </el-input>\n                    <el-input placeholder=\"请输入用户名\" v-model=\"seluid\" clearable\n                    style=\"width: 200px;margin-left: 20px;\" @input=\"refreshTable\"\n                    >\n                    </el-input>\n                    <el-input placeholder=\"请输入书籍编号\" v-model=\"selbid\" clearable\n                    style=\"width: 200px;margin-left: 20px;\" @input=\"refreshTable\"\n                    >\n                    </el-input>\n                </span>\n                <div style=\"float: right;\">\n                    <el-button type=\"primary\" style=\"margin-right: 10px;\" \n                    @click=\"addUser\">新增</el-button>\n                    <el-button type=\"danger\" style=\"margin-right: 60px;\" \n                    @click=\"deleteByIds\">批量删除</el-button>\n                </div>\n            </div>\n            <el-table :data=\"tableData\" style=\"width: 100%\" \n            @selection-change=\"handleSelectionChange\"\n                      :row-class-name=\"tableRowClassName\"\n            :header-cell-style=\"{background:'#f4f4f4',color:'#80878f'}\">\n                <el-table-column type=\"selection\" align=\"center\" width=\"50\">\n                </el-table-column>\n                <el-table-column type=\"index\" label=\"序号\" width=\"100\" align=\"center\">\n                </el-table-column>\n                <el-table-column prop=\"id\" label=\"记录编号\" align=\"center\" sortable>\n                </el-table-column>\n                <el-table-column prop=\"uid\" label=\"用户名\" align=\"center\" sortable>\n                </el-table-column>\n                <el-table-column prop=\"bid\" label=\"书籍编号\" align=\"center\" sortable>\n                </el-table-column>\n                <el-table-column prop=\"bdate\" label=\"借阅时间\" align=\"center\" sortable>\n                </el-table-column>\n                <el-table-column prop=\"rdate\" label=\"归还时间\" align=\"center\" sortable>\n                </el-table-column>\n                <el-table-column label=\"操作\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <el-button type=\"warning\" size=\"small\" plain style=\"margin-right: 10px;\" \n                        @click=\"editUser(scope.row)\">修改</el-button>\n                        <el-popconfirm confirm-button-text='确定'\n                                       cancel-button-text='不用了'\n                        icon=\"el-icon-info\" icon-color=\"red\" title=\"确定要删除吗？\"\n                        @confirm=\"deleteOne(scope.row)\">\n                            <el-button slot=\"reference\" type=\"danger\" size=\"small\"\n                                       plain> 删除</el-button>\n                        </el-popconfirm>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <el-pagination style=\"text-align: center;margin-top: 8px;\"\n                @size-change=\"handleSizeChange\"\n                @current-change=\"handleCurrentChange\"\n                :current-page=\"currentPage\"\n                :page-sizes=\"[5,10,15,20]\"\n                :page-size=\"sizePage\"\n                layout=\"total, sizes, prev, pager, next, jumper\"\n                :total=\"totalPage\">\n                </el-pagination>\n        </template>\n        <!--    添加与修改-->\n        <el-dialog :title=\"title\" :visible.sync=\"dialogVisible\"\n                width=\"25%\" center>\n            <el-form ref=\"borrow\" :rules=\"rules\" style=\"text-align: center;\"\n                     :model=\"borrow\" label-width=\"80px\">\n\n                <el-form-item label=\"借阅人\" prop=\"uid\">\n                    <el-select v-model=\"borrow.uid\" filterable clearable\n                    placeholder=\"选择用户名\">\n                        <el-option\n                                v-for=\"i in userDate\"\n                                :key=\"i.uid\"\n                                :label=\"i.uid\"\n                                :value=\"i.uid\">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n\n                <el-form-item label=\"书籍编号\" prop=\"bid\">\n                    <el-select v-model=\"borrow.bid\" filterable clearable\n                    placeholder=\"选择书籍编号\">\n                        <el-option\n                                v-for=\"i in bookDate\"\n                                :key=\"i.bid\"\n                                :label=\"i.bid\"\n                                :value=\"i.bid\">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n\n                <el-form-item label=\"借阅时间\" prop=\"bdate\">\n                    <div class=\"block\">\n                        <el-date-picker\n                            v-model=\"borrow.bdate\"\n                            type=\"datetime\"\n                            :clearable=false\n                            placeholder=\"选择借阅日期时间\"\n                            default-time=\"12:00:00\"\n                            value-format=\"yyyy-MM-dd HH:mm:ss\">\n                        </el-date-picker>\n                    </div>\n                </el-form-item> \n\n                <el-form-item label=\"归还时间\" prop=\"rdate\">\n                    <div class=\"block\">\n                        <el-date-picker\n                            v-model=\"borrow.rdate\"\n                            type=\"datetime\"\n                            :clearable=false\n                            placeholder=\"选择归还日期时间\"\n                            default-time=\"12:00:00\"\n                            value-format=\"yyyy-MM-dd HH:mm:ss\">\n                        </el-date-picker>\n                    </div>\n                </el-form-item> \n\n                <el-form-item>\n                    <el-button type=\"primary\" style=\"margin-right: 55px;\" \n                    @click=\"submitForm\">提交</el-button>\n                </el-form-item>\n            </el-form>\n        </el-dialog>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\nconst options = {\n    data() {\n        return {\n            borrow: {\n                bid: '',\n                uid: '',\n                bdate: '',\n                rdate: ''\n            },\n            userDate:[], //用户数据\n            bookDate:[], //书籍数据\n            name: 'UserManage', // 组件名称\n            currentPage: 1, // 当前页\n            sizePage: 10, // 每页显示条数\n            totalPage: 0, // 总条数\n            selid: '', // 查询记录编号\n            seluid: '', // 查询用户名\n            selbid: '', // 查询书籍编号\n            multipleSelection: [], // 表格内左侧多选框勾选情况\n            tableData: [], // 表格数据\n\n            dialogVisible: false, // 添加与修改弹窗\n            title: '', // 弹窗标题\n            flag: false, // 是否禁用用户名输入框\n            //添加数据表单内容检查\n            rules: {\n                uid: [\n                    {required: true, message: '请选择用户姓名', trigger: 'change'}\n                ],\n                bid: [\n                    {required: true, message: '请选择书名', trigger: 'change'}\n                ],\n                bdate: [\n                    {required: true, message: '请选择借阅时间', trigger: 'change'}\n                ],\n                rdate: [\n                    {required: false, message: '请选择归还时间', trigger: 'change'}\n                ]\n            }\n        }\n    },\n    mounted() {\n        this.refreshTable();\n        axios.get('/api/users').then(res => {\n            // console.log(res.data);\n            this.userDate = res.data.data;\n        // console.log(this.userDate);\n        });\n        axios.get('/api/books').then(res => {\n            // console.log(res.data.data);\n            this.bookDate = res.data.data;\n        // console.log(this.bookDate);\n        });\n    },\n    methods: {\n        //表格颜色\n        tableRowClassName({row}) {\n            // console.log(row);\n            if (row.rdate == null) {\n                return 'warning-row';\n            } else  {\n                return 'success-row';\n            }\n        },\n        //提交表单\n        submitForm() {\n            // console.log(this.borrow);\n            if(this.borrow.bdate == '' ||this.borrow.bdate == null \n            || this.borrow.uid == '' || this.borrow.uid == null\n            || this.borrow.bid == '' || this.borrow.bid == null){\n                this.$message({\n                    message: '请填写完整信息',\n                    type: 'error'\n                });\n            }else{\n                if (this.flag) {\n                    //修改用户\n                    axios.put('/api/borrows', this.borrow).then(res => {\n                        // console.log(res);\n                        if (res.data.code === 20031) {\n                            this.$message({\n                                message: '修改成功',\n                                type: 'success'\n                            });\n                            this.dialogVisible = false;\n                            this.refreshTable();\n                        } else {\n                            this.$message({\n                                message: '修改失败',\n                                type: 'error'\n                            });\n                        }\n                    })\n                } else {\n                    //添加用户\n                    axios.post('/api/borrows', this.borrow).then(res => {\n                        // console.log(res);\n                        if (res.data.code === 20011) {\n                            this.$message({\n                                message: '添加成功',\n                                type: 'success'\n                            });\n                            this.dialogVisible = false;\n                            this.refreshTable();\n                        } else {\n                            this.$message({\n                                message: '添加失败',\n                                type: 'error'\n                            });\n                        }\n                    })\n                        \n                }\n            }\n        },\n        //添加记录\n        addUser() {\n            this.cleanForm();\n            this.title = '添加记录';\n            this.dialogVisible = true;\n            this.flag = false;\n            this.borrow = {};\n        },\n        //修改记录\n        editUser(row) {\n            this.cleanForm();\n            this.title = '修改记录';\n            this.dialogVisible = true;\n            this.flag = true;\n            this.borrow = { ...row }; //对象拷贝\n            // console.log(row);\n        },\n        //清空dialog中表单中各控件的值\n        cleanForm() {\n            this.$nextTick(()=>{\n                this.$refs['borrow'].clearValidate();\n            })\n            this.borrow = {};\n        },\n        //刷新表格\n        refreshTable() {\n            // console.log('refresh');\n            axios.get('/api/borrows/page',{\n                params: {\n                    page: this.currentPage,\n                    size: this.sizePage,\n                    id: this.selid,\n                    uid: this.seluid,\n                    bid: this.selbid\n                }\n            }).then(res => {\n                // console.log(res);\n                this.tableData = res.data.records;\n                this.totalPage = res.data.total;\n            })\n        },\n        //删除单个记录\n        deleteOne(row) {\n            // console.log('确定删除');\n            // console.log(row);\n            axios.delete('/api/borrows/' + row.id).then(res => {\n                // console.log(res);\n                if (res.data.code === 20021) {\n                    this.$message({\n                        message: '删除成功',\n                        type: 'success'\n                    });\n                    this.refreshTable();\n                } else {\n                    this.$message({\n                        message: '删除失败',\n                        type: 'error'\n                    });\n                }\n                this.refreshTable();\n            })\n        },            \n        //表格内左侧多选框勾选情况\n        handleSelectionChange(val) {\n            this.multipleSelection = val;\n        },\n        //批量删除\n        deleteByIds() {\n            if (this.multipleSelection.length == 0)\n                this.$message({\n                    message: '请至少选择一项',\n                    type: 'warning'\n                });\n            else {\n                //弹出提示框\n                this.$confirm('此操作将永久删除这些数据, 是否继续?',\n                    '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    // console.log(this.multipleSelection);\n                    let ids = [];\n                    this.multipleSelection.forEach(item => {\n                        ids.push(item.id);\n                    })\n                    // console.log(ids);\n                    axios.delete('/api/borrows/ids', {\n                        data: ids\n                    }).then(() => {\n                        this.$message({\n                        type: 'success',\n                        message: '操作成功'\n                    });\n                        this.refreshTable();\n                    })\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消删除'\n                    });\n                });\n            }\n        },\n        //分页\n        handleSizeChange(val) {\n            this.sizePage = val;\n            this.refreshTable();\n        },\n        //分页\n        handleCurrentChange(val) {\n            this.currentPage = val;\n            this.refreshTable();\n        }\n    }\n}\nexport default options;\n</script>\n<style>\n .el-table .warning-row {\n    background: rgb(255, 123, 0);\n  }\n\n  .el-table .success-row {\n    background: #c7c7c7;\n  }\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BorrowManage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BorrowManage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BorrowManage.vue?vue&type=template&id=2e553c1c\"\nimport script from \"./BorrowManage.vue?vue&type=script&lang=js\"\nexport * from \"./BorrowManage.vue?vue&type=script&lang=js\"\nimport style0 from \"./BorrowManage.vue?vue&type=style&index=0&id=2e553c1c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","staticStyle","_v","attrs","on","refreshTable","model","value","selid","callback","$$v","expression","seluid","selbid","addUser","deleteByIds","tableData","tableRowClassName","background","color","handleSelectionChange","scopedSlots","_u","key","fn","scope","$event","editUser","row","deleteOne","slot","currentPage","sizePage","totalPage","handleSizeChange","handleCurrentChange","title","dialogVisible","ref","rules","borrow","uid","$set","_l","userDate","i","bid","bookDate","staticClass","bdate","rdate","submitForm","staticRenderFns","options","data","name","multipleSelection","flag","required","message","trigger","mounted","axios","then","res","methods","$message","type","code","cleanForm","$nextTick","$refs","clearValidate","params","page","size","id","records","total","val","length","$confirm","confirmButtonText","cancelButtonText","ids","forEach","item","push","catch","component"],"sourceRoot":""}