{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport App from './App.vue';\n// import App from './views/Home.vue'\n// import App from './views/UserManage.vue'\n// import App from './views/BookManage.vue'\n// import App from './views/BorrowManage.vue'\n// import App from './views/MyBorrow.vue'\n// import App from './views/MyInformation.vue'\nimport router from './router';\nimport store from './store';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport ElementUI from 'element-ui';\nimport axios from 'axios';\nVue.config.productionTip = false;\nVue.use(ElementUI);\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app');\n\n// axios.defaults.baseURL = 'http://localhost:8080/api'\n\n// 添加拦截器\naxios.interceptors.request.use(config => {\n  // 从本地存储中获取Token\n  const token = localStorage.getItem('token');\n  // 将Token添加到请求头中\n  if (token) {\n    config.headers.Authorization = 'Bearer ' + token;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\naxios.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response.status === 401) {\n    // 清除本地存储中的Token\n    localStorage.removeItem('token');\n    // 清除 Vuex 中的 Token\n    store.commit('setToken', null);\n    // 跳转到登录页面\n    router.push('/404');\n  }\n  return Promise.reject(error);\n});","map":{"version":3,"names":["Vue","App","router","store","ElementUI","axios","config","productionTip","use","render","h","$mount","interceptors","request","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","status","removeItem","commit","push"],"sources":["C:/Users/22771/Desktop/library_infomation-security/lib_client/src/main.js"],"sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\n// import App from './views/Home.vue'\n// import App from './views/UserManage.vue'\n// import App from './views/BookManage.vue'\n// import App from './views/BorrowManage.vue'\n// import App from './views/MyBorrow.vue'\n// import App from './views/MyInformation.vue'\nimport router from './router'\nimport store from './store'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport ElementUI from 'element-ui'\nimport axios from 'axios'\n\n\nVue.config.productionTip = false\n\nVue.use(ElementUI)\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n\n// axios.defaults.baseURL = 'http://localhost:8080/api'\n\n// 添加拦截器\naxios.interceptors.request.use(\n  config => {\n    // 从本地存储中获取Token\n    const token = localStorage.getItem('token')\n    // 将Token添加到请求头中\n    if (token) {\n      config.headers.Authorization = 'Bearer ' + token\n    }\n    return config\n  },\n  error => {\n    return Promise.reject(error)\n  }\n)\n\naxios.interceptors.response.use(\n  response => {\n    return response\n  },\n  error => {\n    if (error.response.status === 401) {\n      // 清除本地存储中的Token\n      localStorage.removeItem('token')\n      // 清除 Vuex 中的 Token\n      store.commit('setToken', null)\n      // 跳转到登录页面\n      router.push('/404')\n    }\n    return Promise.reject(error)\n  }\n)\n\n"],"mappings":";AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAO,sCAAsC;AAC7C,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,OAAO;AAGzBL,GAAG,CAACM,MAAM,CAACC,aAAa,GAAG,KAAK;AAEhCP,GAAG,CAACQ,GAAG,CAACJ,SAAS,CAAC;AAClB,IAAIJ,GAAG,CAAC;EACNE,MAAM;EACNC,KAAK;EACLM,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACT,GAAG;AACpB,CAAC,CAAC,CAACU,MAAM,CAAC,MAAM,CAAC;;AAEjB;;AAEA;AACAN,KAAK,CAACO,YAAY,CAACC,OAAO,CAACL,GAAG,CAC5BF,MAAM,IAAI;EACR;EACA,MAAMQ,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C;EACA,IAAIF,KAAK,EAAE;IACTR,MAAM,CAACW,OAAO,CAACC,aAAa,GAAG,SAAS,GAAGJ,KAAK;EAClD;EACA,OAAOR,MAAM;AACf,CAAC,EACDa,KAAK,IAAI;EACP,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF;AAEDd,KAAK,CAACO,YAAY,CAACU,QAAQ,CAACd,GAAG,CAC7Bc,QAAQ,IAAI;EACV,OAAOA,QAAQ;AACjB,CAAC,EACDH,KAAK,IAAI;EACP,IAAIA,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;IACjC;IACAR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAChC;IACArB,KAAK,CAACsB,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC;IAC9B;IACAvB,MAAM,CAACwB,IAAI,CAAC,MAAM,CAAC;EACrB;EACA,OAAON,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}